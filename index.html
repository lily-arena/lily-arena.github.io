<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SeoulArena Career</title>
  <link rel="icon" href="images/SeoulArena.png">
  <link href="css/styles.css" rel="stylesheet">
  
  <!-- Firebase SDK 로드: Realtime Database -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script> 
  
  <script>
  const firebaseConfig = {
    apiKey: "AIzaSyDDMRJ9xVU79BPN6gF0KsEf4N1sQJeuxWw",
    authDomain: "gen-lang-client-0460432266.firebaseapp.com",
    databaseURL: "https://gen-lang-client-0460432266-default-rtdb.firebaseio.com",
    projectId: "gen-lang-client-0460432266",
    storageBucket: "gen-lang-client-0460432266.firebasestorage.app",
    messagingSenderId: "908504758145",
    appId: "1:908504758145:web:b2666ac5fd7cef2bbf1a80"
  };
  
  // Firebase 초기화 및 Realtime Database 서비스 가져오기
  const app = firebase.initializeApp(firebaseConfig);
  const database = app.database();
</script>
</head>
<body>

<!-- Intro -->
<header class="intro" role="banner" aria-label="Seoul Arena Intro">
  <div class="intro-inner">
    <h1 class="intro-rotating" aria-label="SEOUL ARENA GOING LIVE IN 2027">
      <span id="rotatingText">SEOUL ARENA</span>
    </h1>
  </div>
  <a href="#message" class="scroll-indicator" aria-label="다음 섹션으로 이동">
    <svg class="chevrons" width="28" height="28" viewBox="0 0 24 24" aria-hidden="true">
      <path d="M6.7 7.7L12 13l5.3-5.3" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M6.7 11.7L12 17l5.3-5.3" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </a>
</header>

<!-- MESSAGE -->
<section id="message" class="message" aria-labelledby="message-title">
  <div class="container message-inner">
    <header class="message-head">
      <h1 id="message-title" class="message-title">BEYOND STAGE, <br> DEFINE CULTURE</h1>
      <p class="message-subtitle">
        우리는 감정을 나누고, 경험을 확장하며, <br class="mobile-only"> 팬덤과 함께 문화를 연결합니다.<br>
        서울아레나는 공연을 넘어, <br class="mobile-only"> 문화를 정의하는 플랫폼입니다.
      </p>
    </header>
  </div>
</section>

<!-- ABOUT -->
<section id="about" class="section">
  <div class="container">
    <article class="panel">
      <header class="section-head">
        <h2 class="section-title">ABOUT</h2>
      </header>

      <div class="prose">
        <p class="about-lead">
          서울아레나는 팬덤과 아티스트가 함께하는 몰입형 공연과 확장된 경험을 제공하는 글로벌 음악·문화 플랫폼입니다.
        </p>

      <!-- MISSION / VISION / CORE -->
      <div class="mvc-grid mvc-grid--square">
        <!-- MISSION -->
        <div class="mvc-box mvc-title mvc-1">
          <span>MISSION</span>
          <div class="mvc-inline">
            <p>서울아레나는 팬덤과 아티스트가 함께 만드는 최고의 음악·문화 경험을 제공합니다. 공연을 넘어, 음악과 문화를 소비하고 연결하며, 모든 방문자가 ‘참여자’가 되는 플랫폼을 만듭니다.</p>
          </div>
        </div>
        <div class="mvc-box mvc-content mvc-2">
          <p>서울아레나는 팬덤과 아티스트가 함께 만드는 최고의 음악·문화 경험을 제공합니다. 공연을 넘어, 음악과 문화를 소비하고 연결하며, 모든 방문자가 ‘참여자’가 되는 플랫폼을 만듭니다.</p>
        </div>

        <!-- VISION -->
        <div class="mvc-box mvc-title mvc-3">
          <span>VISION</span>
          <div class="mvc-inline">
            <p>세계가 찾는 팬덤 플랫폼, 서울아레나. 공연과 문화 콘텐츠가 하나로 연결된 확장형 플랫폼으로, 전 세계 팬덤이 반드시 경험해야 하는 ‘음악과 문화의 허브’가 됩니다.</p>
          </div>
        </div>
        <div class="mvc-box mvc-content mvc-4">
          <p>세계가 찾는 팬덤 플랫폼, 서울아레나. 공연과 문화 콘텐츠가 하나로 연결된 확장형 플랫폼으로, 전 세계 팬덤이 반드시 경험해야 하는 ‘음악과 문화의 허브’가 됩니다.</p>
        </div>
      </div>
      <!-- CORE -->
      <div class="mvc-grid mvc-grid--core">
        <div class="mvc-box mvc-title mvc-5">
          <span>CORE</span>
          <div class="mvc-inline">
            <ul class="core-list">
              <li>
                <div class="core-copy">
                  <h4>IMMERSIVE LIVE</h4>
                  <p>무대 위와 객석 사이의 거리는 사라집니다. 서울아레나는 모든 감각이 공연에 몰입할 수 있도록 설계되었습니다. 음향, 조명, 시야, 동선 하나까지 감정의 타이밍에 맞춰 조율합니다. 공연은 더 이상 보는 것이 아니라, 안에서 함께 호흡하는 경험이 됩니다.</p>
                </div>
              </li>
              <li>
                <div class="core-copy">
                  <h4>EXPANDED EXPERIENCE</h4>
                  <p>경험은 무대에서 끝나지 않습니다. 공연, 전시, 상업, 콘텐츠가 하나의 이야기로 연결되는 곳. 굿즈, 팝업, 쇼케이스까지 팬덤의 여정을 따라 확장되는 공간. 하루의 방문이 아니라, 기억 속에 남는 경험의 연속을 설계합니다.</p>
                </div>
              </li>
              <li>
                <div class="core-copy">
                  <h4>THE NEXT PLATFORM</h4>
                  <p>서울아레나는 단순한 공연장이 아닙니다. 팬덤, 콘텐츠, 브랜드가 실시간으로 연결되는 하나의 플랫폼입니다. 디지털과 물리 공간의 경계를 넘고, 공연 이후의 여정까지 설계합니다. 이곳에서 경험은 소비로 끝나지 않고, 다시 움직이는 힘이 됩니다.</p>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <div class="mvc-box mvc-content mvc-6">
          <ul class="core-list">
            <li>
              <div class="core-copy">
                <h4>IMMERSIVE LIVE</h4>
                <p>
                  무대 위와 객석 사이의 거리는 사라집니다.<br>
                  서울아레나는 모든 감각이 공연에 몰입할 수 있도록 설계되었습니다.
                  음향, 조명, 시야, 동선 하나까지 감정의 타이밍에 맞춰 조율합니다.
                  공연은 더 이상 보는 것이 아니라, 안에서 함께 호흡하는 경험이 됩니다.
                </p>
              </div>
            </li>
            <li>
              <div class="core-copy">
                <h4>EXPANDED EXPERIENCE</h4>
                <p>
                  경험은 무대에서 끝나지 않습니다.<br>
                  공연, 전시, 상업, 콘텐츠가 하나의 이야기로 연결되는 곳.
                  굿즈, 팝업, 쇼케이스까지 팬덤의 여정을 따라 확장되는 공간.
                  하루의 방문이 아니라, 기억 속에 남는 경험의 연속을 설계합니다.
                </p>
              </div>
            </li>
            <li>
              <div class="core-copy">
                <h4>THE NEXT PLATFORM</h4>
                <p>
                  서울아레나는 단순한 공연장이 아닙니다.<br>
                  팬덤, 콘텐츠, 브랜드가 실시간으로 연결되는 하나의 플랫폼입니다.
                  디지털과 물리 공간의 경계를 넘고, 공연 이후의 여정까지 설계합니다.
                  이곳에서 경험은 소비로 끝나지 않고, 다시 움직이는 힘이 됩니다.
                </p>
              </div>
            </li>
          </ul>
        </div>
      </div>
      
    </article>
  </div>
</section>

<!-- LIFE -->
<section id="life" class="section">
  <div class="container">
    <article class="panel">
      <header class="section-head">
        <h2 class="section-title">LIFE</h2>
      </header>

      <div class="prose">
        <p class="lead life-lead">
          <strong>BETTER CARE, BETTER WORK.</strong>
          <span class="life-lead-sub">
            서울아레나의 케어는 ‘몰입’을 위한 설계입니다. <br> 업무는 가볍게, 일상은 단단하게 받쳐주는 현실적인 <br class="mobile-only"> 지원으로 집중할 수 있는 환경을 만듭니다. <br> 성과 뒤에 있는 체계, 그것이 서울아레나의 케어입니다.
          </span>
        </p>

        <nav class="life-tabs" aria-label="케어 카테고리" role="tablist">
          <button class="pill pill--tab is-active" type="button" role="tab" data-tab="living" aria-controls="pane-living" aria-selected="true">생활 지원</button>
          <button class="pill pill--tab" type="button" role="tab" data-tab="work" aria-controls="pane-work" aria-selected="false">업무 지원</button>
          <button class="pill pill--tab" type="button" role="tab" data-tab="rest" aria-controls="pane-rest" aria-selected="false">휴식 지원</button>
          <button class="pill pill--tab" type="button" role="tab" data-tab="health" aria-controls="pane-health" aria-selected="false">건강 지원</button>
        </nav>

        <!-- 생활 지원 -->
        <section id="pane-living" class="life-pane" role="tabpanel" aria-label="생활 지원">
          <article class="life-card"><h3>서울아레나 베네핏</h3><p>분기마다 40만원의 문화예술비를 제공합니다. 공연, 전시, 영화, 도서, 관련 여행 등 경험을 위한 소비를 응원합니다. 서울아레나는 크루들의 사업에 대한 이해도를 높이고, 다양한 관점에서의 기여를 유도하기 위해 문화예술과 관련된 콘텐츠를 자율적으로 경험할 수 있도록 지원합니다.</p></article>
          <article class="life-card"><h3>명절 선물</h3><p>설과 추석마다 각각 30만원의 명절 감사금을 지급하여 함께 해주는 시간에 대한 고마움을 표현합니다. 서울아레나 크루의 경조사를 폭넓게 지원하기 위해, 카카오 본사의 경조사 기준을 최대한 준용합니다.</p></article>
          <article class="life-card"><h3>경조사 지원</h3><p>크루와 가족의 경조사에는 휴가와 함께 축하 또는 조의의 마음을 전합니다. 경조사비, 화환, 용품 등이 상황에 따라 지원됩니다.</p></article>
          <article class="life-card"><h3>육아 지원</h3><p>미취학 자녀가 있는 구성원에게는 자녀 1인당 월 20만원을 비과세로 지원합니다.</p></article>
        </section>

        <!-- 업무 지원 -->
        <section id="pane-work" class="life-pane" role="tabpanel" aria-label="업무 지원" hidden>
          <article class="life-card"><h3>먹거리 지원</h3><p>2시간 이상 초과근무 또는 휴일 4시간 이상 근무 시 식대를 실비 지원합니다. 음료, 커피, 간식도 상시 제공합니다.</p></article>
          <article class="life-card"><h3>업무환경 지원</h3><p>맥과 윈도우 중 원하는 랩탑을 선택할 수 있으며, UHD 모니터, 액세서리, 가습기 등 집중을 위한 환경을 제공합니다.</p></article>
          <article class="life-card"><h3>교통비 지원</h3><p>팀장 이상에게는 월 정기주차비 초과분을, 외근 및 심야(22시 이후)에는 택시비를 실비 지원합니다.</p></article>
        </section>

        <!-- 휴식 지원 -->
        <section id="pane-rest" class="life-pane" role="tabpanel" aria-label="휴식 지원" hidden>
          <article class="life-card"><h3>리프레시 제도</h3><p>3년마다 15일의 유급휴가와 100만원의 휴가비를 지원하여 온전히 재충전할 수 있도록 설계된 제도입니다.</p></article>
          <article class="life-card"><h3>가족돌봄휴가</h3><p>가정과 심리적 안정이 필요한 시기에 사용할 수 있는 비법정 유급휴가 10일을 제공합니다. 1일씩 나누어 사용할 수 있습니다.</p></article>
          <article class="life-card"><h3>연차휴가</h3><p>상황에 맞게 자유롭게 사용할 수 있는 유급휴가를 별도 운영합니다. 일의 흐름과 개인의 리듬을 함께 고려합니다.</p></article>
        </section>

        <!-- 건강 지원 -->
        <section id="pane-health" class="life-pane" role="tabpanel" aria-label="건강 지원" hidden>
          <article class="life-card"><h3>종합검진</h3><p>매년 1회, 30만원 상당의 종합건강검진 패키지를 제공합니다. 동일 패키지로 가족도 개인 비용으로 예약할 수 있습니다.</p></article>
          <article class="life-card"><h3>독감예방접종 지원</h3><p>매년 정해진 기간, 오피스 인근 병원에서 예방접종을 지원합니다. 접근성과 타이밍을 고려한 실질적 케어입니다.</p></article>
          <article class="life-card"><h3>단체상해보험</h3><p>크루 본인뿐 아니라 직계 가족(존속·비속 포함)까지 진단금과 실손의료비를 보장하는 단체보험을 제공합니다.</p></article>
        </section>
      </div>
    </article>
  </div>
</section>

<!-- NEWS -->
<section id="news" class="section">
  <div class="container">
    <article class="panel">
      <header class="section-head">
        <h2 class="section-title">NEWS</h2>
      </header>

      <section class="news-feature">
        <h3 class="feature-title">이번 주 공사 현황</h3>
        <figure class="news-feature-figure">
          <img id="construction-image" src="images/2025-09-23-12-00-51.jpg" alt="이번 주 공사 현장">
        </figure>
      </section>

      <h3 class="feature-title">보도자료</h3>
      <div class="news-carousel" id="newsScroller" aria-label="뉴스 카드 목록">
        <button class="news-nav prev" aria-label="이전 뉴스로 이동" type="button">‹</button>

        <!-- 뉴스 카드를 동적으로 채울 트랙에 ID를 부여합니다. -->
        <div id="newsTrack" class="news-track"> 
          <!-- 이 안에 뉴스 카드가 삽입됩니다. -->
        </div>

        <button class="news-nav next" aria-label="다음 뉴스로 이동" type="button">›</button>
      </div>
    </article>
  </div>
</section>

<!-- FOOTER -->
<footer class="footer" role="contentinfo">
  <div class="container footer-inner">
    <div class="brand-mini">SeoulArena</div>
    <small class="companyinfo">6F, 11, Teheran-ro 98-gil, <br>Gangnam-gu, Seoul, Korea <br>SEOUL ARENA CO.,LTD.<br>© SEOUL ARENA</small>
  </div>
</footer>

<!-- SCRIPTS -->
<script>
  // Intro: rotating text
  (function(){
    const texts = ["SEOUL ARENA", "GOING LIVE", "IN 2027"];
    const el = document.getElementById("rotatingText");
    let i = 0;
    const cycle = 1500, anim = 1000;
    function swap() {
      el.classList.remove("fade-in");
      el.classList.add("fade-out");
      setTimeout(() => {
        i = (i + 1) % texts.length;
        el.textContent = texts[i];
        el.classList.remove("fade-out");
        el.classList.add("fade-in");
      }, anim);
    }
    el.classList.add("fade-in");
    setInterval(swap, cycle);
  })();

  // ------------------------------------------------------------------
  // 🔥 FIREBASE 데이터 로직 (Realtime Database에서 읽기)
  // ------------------------------------------------------------------
  document.addEventListener('DOMContentLoaded', () => {
    
    // ----------------------------------------------------
    // A. 공사 현황 이미지 실시간 구독
    // ----------------------------------------------------
    const constructionImageRef = database.ref('settings/constructionImage');
    const imageElement = document.getElementById('construction-image');

    constructionImageRef.on('value', (snapshot) => {
        if (snapshot.exists() && imageElement) {
            const imageUrl = snapshot.val();
            // 이미지 src 속성을 업데이트합니다.
            imageElement.src = imageUrl; 
        }
    }, (error) => {
        console.error("Error reading construction image:", error);
    });

    // ----------------------------------------------------
    // B. 뉴스 기사 실시간 구독 및 HTML 렌더링
    // ----------------------------------------------------
    const articlesRef = database.ref('articles');
    const newsTrack = document.getElementById('newsTrack'); // 🔥 ID를 사용하도록 수정

    articlesRef.on('value', (snapshot) => {
        if (snapshot.exists() && newsTrack) {
            const articlesMap = snapshot.val();
            // 객체를 배열로 변환하고 ID 추가
            const articlesArray = Object.keys(articlesMap).map(key => ({
                id: key, 
                ...articlesMap[key]
            }));

            // 날짜(date 필드)를 기준으로 최신순으로 정렬
            articlesArray.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());

            // 뉴스 트랙 비우기
            newsTrack.innerHTML = ''; 

            // 새 기사 HTML 생성 및 삽입
            articlesArray.forEach(article => {
                // date가 ISO 8601 문자열이라고 가정하고 YYYY.MM.DD 형식으로 변환
                const dateText = article.date ? article.date.substring(0, 10).replace(/-/g, '.') : '';

                const cardHtml = `
                    <article class="news-card">
                        <a href="${article.link}" target="_blank" rel="noopener noreferrer" aria-label="${article.title} 기사 보기">
                            <div class="news-card-image" style="background-image: url('${article.imageUrl}');"></div>
                        </a>
                        <div class="news-card-body">
                            <h3 class="news-card-title">
                                <a href="${article.link}" target="_blank" rel="noopener noreferrer">${article.title}</a>
                            </h3>
                            <time class="news-card-date" datetime="${article.date}">${dateText}</time>
                        </div>
                    </article>
                `;
                newsTrack.insertAdjacentHTML('beforeend', cardHtml);
            });
            
            // 뉴스 데이터가 로드된 후 슬라이더 화살표 상태를 업데이트합니다.
            if (window.updateArrows) {
                 window.updateArrows();
            }
        } else if (newsTrack) {
             // 데이터가 없으면 트랙을 비웁니다.
            newsTrack.innerHTML = '<p style="padding: 16px; color:#999; text-align:center;">현재 등록된 보도자료가 없습니다.</p>';
            if (window.updateArrows) {
                 window.updateArrows();
            }
        }
    }, (error) => {
        console.error("Error reading news articles:", error);
        if (newsTrack) newsTrack.innerHTML = '<p style="padding: 16px; color:red; text-align:center;">뉴스 기사를 불러오지 못했습니다. (Firebase 규칙 확인 필요)</p>';
    });
    
  });
  // ------------------------------------------------------------------


  // News: carousel nav & disabled state
  (function(){
    const root = document.getElementById('newsScroller');
    if (!root) return;
    const track = root.querySelector('.news-track');
    const prev  = root.querySelector('.news-nav.prev');
    const next  = root.querySelector('.news-nav.next');

    const getStep = () => {
      const first = track.querySelector('.news-card');
      if (!first) return 0;
      const rect = first.getBoundingClientRect();
      const gap  = parseFloat(getComputedStyle(track).gap || '0');
      return Math.round(rect.width + gap);
    };

    const atStart = () => track.scrollLeft <= 2;
    const atEnd   = () => {
      const max = track.scrollWidth - track.clientWidth;
      return track.scrollLeft >= (max - 2);
    };

    function setDisabled(btn, on){
      btn.classList.toggle('is-disabled', on);
      btn.setAttribute('aria-disabled', String(on));
      btn.tabIndex = on ? -1 : 0;
    }
    
    window.updateArrows = function() {
      setDisabled(prev, atStart());
      setDisabled(next, atEnd());
    };

    prev.addEventListener('click', () => {
      if (prev.classList.contains('is-disabled')) return;
      track.scrollBy({ left: -getStep(), behavior: 'smooth' });
    });
    next.addEventListener('click', () => {
      if (next.classList.contains('is-disabled')) return;
      track.scrollBy({ left:  getStep(), behavior: 'smooth' });
    });

    track.addEventListener('scroll', window.updateArrows, { passive:true });
    window.addEventListener('resize', window.updateArrows);
    
    setDisabled(prev, true);
    setDisabled(next, true); 
  })();

  // LIFE: tabs
  (function(){
    const tabs = document.querySelectorAll('.pill--tab');
    const panes = {
      living: document.getElementById('pane-living'),
      work:   document.getElementById('pane-work'),
      rest:   document.getElementById('pane-rest'),
      health: document.getElementById('pane-health'),
    };
    function activate(key){
      Object.values(panes).forEach(p => p.hidden = true);
      tabs.forEach(t => {
        const on = t.dataset.tab === key;
        t.classList.toggle('is-active', on);
        t.setAttribute('aria-selected', String(on));
        t.toggleAttribute('tabindex', !on);
      });
      panes[key].hidden = false;
    }
    tabs.forEach(btn => btn.addEventListener('click', () => activate(btn.dataset.tab)));
    activate('living');
  })();
</script>
</body>
</html>
